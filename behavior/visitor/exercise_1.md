#### Задание 1. Реализовать две иерархии классов, связанные с применением паттерна Visitor. Первая иерархия является иерархией классов-элементов и включает абстрактный класс Element, содержащий абстрактный метод Accept с параметром-ссылкой типа Visitor (не возвращает результата), и конкретные классы ConcreteElementA, ConcreteElementB, ConcreteElementC. Каждый конкретный класс содержит поле data; для класса ConcreteElementA оно целочисленное, для класса ConcreteElementB оно строковое, для класса ConcreteElementC оно является вещественным числом. Поле data инициализируется в конструкторе класса с помощью параметра data того же типа, что и инициализируемое поле. Конкретные классы-элементы A, B и C реализуют метод Accept(v), в котором для параметра v типа Visitor выполняется вызов соответствующего метода класса Visitor, определяемого типом класса-элемента: для элемента A это VisitConcreteElementA, для элемента B — VisitConcreteElementB, для элемента C — VisitConcreteElementC (параметром методов Visit является ссылка на объект, вызвавший метод Accept).

#### Кроме того, классы-элементы имеют методы для доступа на чтение и запись к полю data: метод GetData без параметров возвращает значение поля data, метод SetData с параметром newData изменяет значение поля data на значение параметра newData. Следует подчеркнуть, что методы GetData и SetData являются специфическими для каждого конкретного класса-элемента (в данном случае это аналоги специфических методов OperationA и OperationB, приведенных на диаграмме классов).

#### С иерархией классов-элементов также связан класс ObjectStructure. Поле struc этого класса является структурой данных (например, массивом) с элементами-ссылками на объекты типа Element (можно считать, что число элементов структуры struc не превосходит 10). Поле struc инициализируется в конструкторе с помощью параметра struc того же типа. Класс ObjectStructure содержит метод Accept(v) с параметром-ссылкой типа Visitor. Этот метод перебирает все элементы структуры struc и для каждого элемента вызывает его метод Accept с параметром v.

#### Вторая иерархия является иерархией классов-посетителей, связанных с ранее описанными конкретными классами. Она включает абстрактный класс Visitor и конкретные классы ConcreteVisitor1, ConcreteVisitor2 и ConcreteVisitor3. Класс Visitor содержит три абстрактных метода: VisitConcreteElementA(e), VisitConcreteElementB(e), VisitConcreteElementC(e). Эти методы не возвращают значений; их параметрами являются ссылки на соответствующие объекты-элементы (например, VisitConcreteElementA имеет параметр типа ConcreteElementA). Напомним, что именно эти методы должны вызываться в методе Accept каждого конкретного класса-элемента.

#### Конкретные классы-посетители 1, 2, 3 реализуют различные наборы операций, связанных с классами-элементами A, B, C, определяя методы VisitConcreteElementA(e), VisitConcreteElementB(e), VisitConcreteElementC(e):

• класс ConcreteVisitor1 выводит поля data в окно задачника, вызывая в каждом из указанных методов соответствующую команду вывода для значения GetData элемента e;

• класс ConcreteVisitor2 преобразует поле data различным образом для разных элементов, используя методы GetData и SetData элемента e: для элементов типа A он изменяет знак целого числа data на противоположный, для элементов типа B он изменяет порядок следования символов строки data на противоположный, для элементов типа C он изменяет любое ненулевое вещественное число data на обратное к нему (равное 1/data);

• класс ConcreteVisitor3 определяет некоторую общую характеристику для всех однотипных элементов обрабатываемой структуры: для элементов типа A определяется сумма их целочисленных полей data, для элементов типа B находится строка, получаемая сцеплением всех строковых полей data, для элементов типа C находится произведение вещественных полей data.

#### В классе ConcreteVisitor3 надо предусмотреть дополнительные поля resultA, resultB, resultC для хранения полученных характеристик и методы GetResultA, GetResultB, GetResultC, возвращающие значения этих полей. Конструкторы объектов-посетителей не имеют параметров и не выполняют дополнительных действий.

#### Тестирование разработанной системы классов. Дано целое число N (≤ 10) и набор из N пар значений. Первое поле каждой пары является символом «A», «B» или «C»; оно определяет тип создаваемого объекта-элемента (A, B или C). Второе поле каждой пары определяет значение поля data создаваемого элемента: для элемента типа A это целое число, для элемента типа B — строка, для элемента типа C — вещественное число.

#### Создать объект s типа ObjectStructure и поместить в него все исходные элементы. Также создать три объекта-посетителя v1, v2, v3 типа ConcreteVisitor1, ConcreteVisitor2, ConcreteVisitor3 соответственно. Вывести содержимое объекта-структуры s, используя вызов его метода Accept(v1), после чего преобразовать это содержимое, используя вызов Accept(v2), и вывести преобразованное содержимое с помощью еще одного вызова Accept(v1). Затем вызвать метод Accept(v3) и вывести найденные в нем характеристики элементов структуры s с помощью методов GetResultA, GetResultB и GetResultC объекта v3. 