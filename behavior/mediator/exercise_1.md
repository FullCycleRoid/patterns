#### Задание 1. Реализовать две иерархии классов, связанные с применением паттерна Mediator. Первая иерархия является иерархией классов-коллег и включает абстрактный класс Colleague и конкретные классы ConcreteColleague1 и ConcreteColleague2.

#### Класс Colleague содержит поле m, являющееся ссылкой на связанный с данным коллегой объект Mediator, и методы SetMediator(m) (не возвращает значения, инициализирует поле m одноименным параметром метода, также имеющим тип Mediator) и Notify (не имеет параметров и не возвращает значения, извещает посредник m о наступлении события путем вызова метода NotifyFrom объекта m, причем в качестве параметра метода NotifyFrom передается ссылка на объект, вызвавший метод Notify). В методе Notify перед вызовом метода NotifyFrom можно проверять, что поле m не является пустой ссылкой, хотя при согласованной работе коллег и посредников такая ситуация не должна возникать. Методы SetMediator и Notify не являются абстрактными, они реализуются в классе Colleague и наследуются всеми подклассами без каких-либо изменений.

#### Класс ConcreteColleague1 дополнительно содержит целочисленное поле data (инициализируется в конструкторе значением 1), класс ConcreteColleague2 содержит строковое поле data (инициализируется в конструкторе строкой «ab»). Конкретные классы также содержат методы GetData и SetData, позволяющие обращаться к полю data на чтение и запись соответственно. Конструкторы классов ConcreteColleague1 и ConcreteColleague2 не имеют параметров.

#### Вторая иерархия является иерархией классов-посредников, связанных с ранее описанными классами-коллегами. Она включает абстрактный класс Mediator и конкретные классы ConcreteMediatorA и ConcreteMediatorB. Класс Mediator содержит абстрактный метод NotifyFrom(coll), имеющий параметр-ссылку типа Colleague и не возвращающий значений. Этот метод информирует посредник о событии, наступившем в объекте coll. Напомним, что именно этот метод должен вызываться в методе Notify каждого конкретного класса-коллеги.

#### Классы ConcreteMediatorA и ConcreteMediatorB реализуют два различных сценария взаимодействия объектов типа ConcreteColleague1 и ConcreteColleague2. Они создают набор взаимодействующих коллег, позволяют получать ссылки на них и обрабатывают связанные с ними события, изменяя состояние других коллег. Конструкторы классов ConcreteMediatorA и ConcreteMediatorB не имеют параметров.

#### Класс ConcreteMediatorA содержит поля c1 (типа ConcreteColleague1) и c2 (типа ConcreteColleague2). Объекты с1 и c2 создаются в конструкторе класса ConcreteMediatorA и связываются с объектом-посредником путем вызова методов SetMediator (с параметром, являющимся ссылкой на создаваемый объект ConcreteMediatorA). Для доступа к объектам c1 и c2 предусмотрены методы GetC1 и GetC2, возвращающие ссылки на соответствующие объекты, приведенные к типу Colleague. Метод NotifyFrom(coll) класса ConcreteMediatorA выполняет следующие действия:

• если параметр coll является ссылкой на поле c1, то к строковому полю data объекта c2 добавляется пробел и строковое представление поля data объекта c1;

• если параметр coll является ссылкой на поле c2, то числовое поле data объекта с1 увеличивается на текущую длину строкового поля data объекта c2.

#### В конце своей работы метод NotifyFrom выводит на экран текущие значения полей data объектов c1 и c2.

#### Класс ConcreteMediatorB содержит поля c1a и c1b (типа ConcreteColleague1) и c2 (типа ConcreteColleague2). Объекты с1a, c1b и c2 создаются в конструкторе класса ConcreteMediatorB (действия при их создании аналогичны действиям, описанным для класса ConcreteMediatorA). Для доступа к объектам предусмотрены методы GetC1a, GetC1b и GetC2, возвращающие ссылки на соответствующие объекты, приведенные к типу Colleague. Метод NotifyFrom(coll) класса ConcreteMediatorB выполняет следующие действия:

• если параметр coll является ссылкой на поле c1a, то числовое поле data объекта c1b увеличивается на значение поля data объекта c1a, а к строковому полю data объекта c2 добавляется символ «a»;

• если параметр coll является ссылкой на поле c1b, то числовое поле data объекта c1a увеличивается на значение поля data объекта c1b, а к строковому полю data объекта c2 добавляется символ «b»;

• если параметр coll является ссылкой на поле c2, то в поля data объектов c1a и c1b записываются числа, равные количеству символов «a» и «b» в строке data объекта c2 (например, если строка равна «abaab», то в поле data объекта с1a записывается число 3, а в поле data объекта c1b записывается число 2).

#### В конце своей работы метод NotifyFrom выводит на экран текущие значения полей data объектов c1a, c1b и c2.

#### Тестирование разработанной системы классов. Создать объекты-посредники ma (типа ConcreteMediatorA) и mb (типа ConcreteMediatorB). Также создать структуру данных coll (например, массив) из 5 ссылок на элементы типа Colleague и записать в нее ссылки, возвращаемые следующими методами (в указанном порядке): ma.GetC1, ma.GetC2, mb.GetC1a, mb.GetC1b, mb.GetC2. Дано целое число N (≤ 20) и набор из N целых чисел в диапазоне от 0 до 4, определяющих индексы элементов структуры coll. Для каждого числа K из данного набора выполнить вызов метода Notify для элемента структуры coll с индексом K. Выводить какие-либо результаты не требуется, так как вывод осуществляется в методах NotifyFrom объектов-посредников. 