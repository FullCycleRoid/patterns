#### Задание 1. Реализовать иерархию классов, включающую абстрактный базовый класс BaseClass и классы-потомки Singleton, Doubleton и Tenton, обеспечивающие создание ограниченного количества своих экземпляров.

#### Класс BaseClass включает целочисленное поле data и два связанных с ним метода: метод IncData(increment) увеличивает значение data на величину целочисленного параметра increment, метод GetData без параметров возвращает текущее значение поля data. Поле data инициализируется нулевым значением.

#### Класс Singleton реализует стандартный паттерн «Одиночка». Он включает статическое поле uniqueInstance — ссылку на тип Singleton (инициализируется нулевой ссылкой), закрытый конструктор, не выполняющий дополнительных действий, и статический метод Instance без параметров, который возвращает ссылку на объект типа Singleton). Метод Instance выполняет следующие действия: если поле uniqueInstance является нулевой ссылкой, то метод создает объект Singleton, помещает ссылку на него в поле uniqueInstance и возвращает эту ссылку как результат своей работы; если поле uniqueInstance уже содержит ссылку на объект Singleton, то метод Instance просто возвращает эту ссылку. Дополнительно реализовать статический метод InstanceCount (без параметров), который возвращает 0, если поле uniqueInstance содержит нулевую ссылку, и 1 в противном случае.

#### Классы Doubleton и Tenton реализуют вариант паттерна, допускающий использование не более двух и не более десяти экземпляров соответственно.

#### Класс Doubleton включает статический массив instances из двух элементов-ссылок типа Doubleton (элементы инициализируются нулевыми значениями), закрытый конструктор и статические методы Instance1 и Instance2, которые выполняют действия, аналогичные действиям метода Instance класса Singleton, но обращаются соответственно к элементам массива instances с индексами 0 и 1.

#### Класс Tenton отличается от класса Doubleton тем, что его статический массив instances содержит 10 элементов-ссылок типа Tenton, а вместо двух методов Instance1 и Instance2 он включает статический метод Instance(index) с целочисленным параметром, определяющим индекс элемента массива instances, к которому обращается данный метод. Если параметр находится вне диапазона 0–9, то метод Instance может возвращать нулевую ссылку или возбуждать исключение (при выполнении задания такая ситуация не будет возникать).

#### В классах Doubleton и Tenton дополнительно реализовать статический метод InstanceCount (без параметров), который возвращает количество элементов массива instances, не являющихся нулевыми ссылками.

#### Тестирование разработанной системы классов. Дано целое число N (≤ 10) и набор из N строк, которые могут принимать значения «S», «D1», «D2», «T0», «T1», …, «T9». Создать массив b из N элементов — ссылок на BaseClass и инициализировать его элементы экземплярами классов Singleton, Doubleton, Tenton, используя следующие варианты статических методов в зависимости от значения соответствующей строки из исходного набора: для строки «S» используется метод Instance класса Singleton; для строк «D1», «D2» — соответственно методы Instance1 и Instance2 класса Doubleton; для строк «T0», «T1», …, «T9» — метод Instance(index) класса Tenton с параметром index, соответствующим цифре, указанной в строке.

#### После создания всех элементов массива b вывести значения метода InstanceCount для классов Singleton, Doubleton, Tenton в указанном порядке.

#### Также дано целое число K (≤ 20) и набор из K пар целых чисел (index, increment), в котором число index находится в диапазоне от 0 до N − 1 и определяет индекс элемента в массиве b, а число increment определяет параметр метода IncData, который надо вызвать для элемента массива b с индексом index. После вызова всех требуемых методов IncData вывести итоговые значения поля data для всех объектов массива b, используя метод GetData.



Указание (Python). Для языка Python задачник Programming Taskbook выполняет тестирование при однократном запуске программы путем многократного вызова ее функции solve. Так как между вызовами функции solve содержимое статических полей классов сохраняется, в случае данного задания это приведет к ошибочным результатам, начиная со второго тестового испытания. Чтобы избежать сообщения об ошибке, следует реализовать в классах Singleton, Doubleton и Tenton вспомогательный статический метод reset, который обнуляет все статические ссылки (uniqueInstance для класса Singleton, элементы массива instances для классов Doubleton и Tenton), и вызывать методы reset для этих классов после вывода всех результирующих данных.

Примечание 1 (Python). В языке Python для определения статических полей, т. е. полей, относящихся к классу в целом, достаточно описать и инициализировать эти поля внутри описания класса (не указывая перед ними слово self, в отличие от обычных полей при доступе к ним из обычных методов). Статические поля, как и обычные, можно сделать закрытыми, указав в начале их имени два символа подчеркивания. Что касается методов, то в языке Python есть два вида методов, относящихся к классу в целом: это собственно статические методы, перед определением которых указывается модификатор @staticmethod, и классовые методы, перед определением которых указывается модификатор @classmethod. Статические методы в Python — это методы, определяемые внутри класса и не имеющие специальных параметров. У классовых методов первый параметр имеет особый смысл — это передаваемый ему класс (обычно этот параметр имеет имя cls). С помощью параметра cls можно обращаться к статическим полям класса, например, cls.__static_field (подобно тому, как с помощью параметра self обычных методов можно обращаться к полям объекта). В обычных методах тоже можно обращаться к статическим полям; для доступа к ним надо использовать параметр self, например, self.__static_field). При вызове как статических, так и классовых методов перед ними надо указывать не имя какого-либо объекта, а имя класса, которое отделяется от имени метода точкой. При этом для классовых методов указанное имя класса считается первым параметром метода (параметром cls).

Примечание 2 (Python). Поскольку в языке Python нельзя определить закрытый конструктор, необходимо предусмотреть специальные средства, делающие невозможным вызов конструктора из внешней программы. Для этого можно поступить следующим образом: определить закрытое статическое поле __private_key, которое инициализируется некоторым объектом (недоступным внешней программе), и снабдить метод __init__ параметром private_key. Вызов конструктора будет считаться успешным только в случае, если ему в качестве этого параметра будет передан объект __private_key, а это может сделать только какой-либо метод класса, так как вне класса доступ к полю __private_key невозможен.
